/*
 Copyright (c) 2011, Jason Sanford
 Google Vector Layers is a library for showing geometry objects
 from multiple geoweb services with the Google Maps API
*/
(function(a){a.gvector={VERSION:"0.1",ROOT_URL:function(){var a=document.getElementsByTagName("script"),c=/^(.*\/)gvector\-?([\w\-]*)\.js.*$/,e,d,f;e=0;for(d=a.length;e<d;e++)if(f=a[e].src,f=f.match(c)){if(f[2]==="include")break;return f[1]}return"../../dist/"}(),noConflict:function(){a.gvector=this._originalgvector;return this},_originalgvector:a.gvector}})(this);gvector.Util={extend:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,e=b.length,d;c<e;c++){d=b[c]||{};for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f])}return a},bind:function(a,b){return function(){return a.apply(b,arguments)}},stamp:function(){var a=0;return function(b){b._gvector_id=b._gvector_id||++a;return b._gvector_id}}(),requestAnimFrame:function(){function a(a){window.setTimeout(a,1E3/60)}var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||a;return function(c,e,d,f){c=e?gvector.Util.bind(c,e):c;d&&b===a?c():b(c,f)}}(),limitExecByInterval:function(a,b,c){function e(){d=!1;f&&(g.callee.apply(c,g),f=!1)}var d,f,g;return function(){g=arguments;d?f=!0:(d=!0,setTimeout(e,b),a.apply(c,g))}},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},setOptions:function(a,b){a.options=gvector.Util.extend({},a.options,b)},getParamString:function(a){var b=
[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return"?"+b.join("&")}};gvector.Class=function(){};
gvector.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments)},c=function(){};c.prototype=this.prototype;c=new c;c.constructor=b;b.prototype=c;b.superclass=this.prototype;for(var e in this)this.hasOwnProperty(e)&&e!="prototype"&&e!="superclass"&&(b[e]=this[e]);a.statics&&(gvector.Util.extend(b,a.statics),delete a.statics);a.includes&&(gvector.Util.extend.apply(null,[c].concat(a.includes)),delete a.includes);if(a.options&&c.options)a.options=gvector.Util.extend({},
c.options,a.options);gvector.Util.extend(c,a);b.extend=arguments.callee;b.include=function(a){gvector.Util.extend(this.prototype,a)};return b};gvector.Layer=gvector.Class.extend({options:{fields:"",scaleRange:null,map:null,uniqueField:null,visibleAtScale:!0,dynamic:!1,autoUpdate:!1,autoUpdateInterval:null,infoWindowTemplate:null,singleInfoWindow:!1,symbology:null,showAll:!1},initialize:function(a){gvector.Util.setOptions(this,a)},setMap:function(a){if(!a||!this.options.map){if((this.options.map=a)&&this.options.scaleRange&&this.options.scaleRange instanceof Array&&this.options.scaleRange.length===2){var b=this.options.map.getZoom(),c=this.options.scaleRange;
this.options.visibleAtScale=b>=c[0]&&b<=c[1]}this[a?"_show":"_hide"]()}},getMap:function(){return this.options.map},setOptions:function(){},_show:function(){if(this.options.showAll)this._getFeatures();else if(this._addIdleListener(),this.options.scaleRange&&this.options.scaleRange instanceof Array&&this.options.scaleRange.length===2&&this._addZoomChangeListener(),this.options.visibleAtScale){if(this.options.autoUpdate&&this.options.autoUpdateInterval){var a=this;this._autoUpdateInterval=setInterval(function(){a._getFeatures()},
this.options.autoUpdateInterval)}google.maps.event.trigger(this.options.map,"zoom_changed");google.maps.event.trigger(this.options.map,"idle")}},_hide:function(){this._idleListener&&google.maps.event.removeListener(this._idleListener);this._zoomChangeListener&&google.maps.event.removeListener(this._zoomChangeListener);this._autoUpdateInterval&&clearInterval(this._autoUpdateInterval);this._clearFeatures();this._lastQueriedBounds=null},_hideVectors:function(){for(var a=0;a<this._vectors.length;a++){if(this._vectors[a].vector)if(this._vectors[a].vector.setMap(null),
this._vectors[a].infoWindow)this._vectors[a].infoWindow.close();else if(this.infoWindow&&this.infoWindow.get("associatedFeature")&&this.infoWindow.get("associatedFeature")==this._vectors[a])this.infoWindow.close(),this.infoWindow=null;if(this._vectors[a].vectors&&this._vectors[a].vectors.length)for(var b=0;b<this._vectors[a].vectors.length;b++)if(this._vectors[a].vectors[b].setMap(null),this._vectors[a].vectors[b].infoWindow)this._vectors[a].vectors[b].infoWindow.close();else if(this.infoWindow&&
this.infoWindow.get("associatedFeature")&&this.infoWindow.get("associatedFeature")==this._vectors[a])this.infoWindow.close(),this.infoWindow=null}},_showVectors:function(){for(var a=0;a<this._vectors.length;a++)if(this._vectors[a].vector&&this._vectors[a].vector.setMap(this.options.map),this._vectors[a].vectors&&this._vectors[a].vectors.length)for(var b=0;b<this._vectors[a].vectors.length;b++)this._vectors[a].vectors[b].setMap(this.options.map)},_clearFeatures:function(){this._hideVectors();this._vectors=
[]},_addZoomChangeListener:function(){var a=this;this._zoomChangeListener=google.maps.event.addListener(this.options.map,"zoom_changed",function(){a._checkLayerVisibility()})},_addIdleListener:function(){var a=this;this._idleListener=google.maps.event.addListener(this.options.map,"idle",function(){a.options.visibleAtScale&&a._getFeatures()})},_checkLayerVisibility:function(){var a=this.options.visibleAtScale,b=this.options.map.getZoom(),c=this.options.scaleRange;this.options.visibleAtScale=b>=c[0]&&
b<=c[1];if(a!==this.options.visibleAtScale)this[this.options.visibleAtScale?"_showVectors":"_hideVectors"]();if(a&&!this.options.visibleAtScale&&this._autoUpdateInterval)clearInterval(this._autoUpdateInterval);else if(!a&&this.options.autoUpdate&&this.options.autoUpdateInterval){var e=this;this._autoUpdateInterval=setInterval(function(){e._getFeatures()},this.options.autoUpdateInterval)}},_setInfoWindowContent:function(a){var b=a.iwContent,c=a.attributes||a.properties,e;if(typeof this.options.infoWindowTemplate==
"string"){e=this.options.infoWindowTemplate;for(var d in c)e=e.replace(RegExp("{"+d+"}","g"),c[d])}else if(typeof this.options.infoWindowTemplate=="function")e=this.options.infoWindowTemplate(c);else return;a.iwContent=e;a.infoWindow&&a.iwContent!=b&&a.infoWindow.setContent(a.iwContent)},_showInfoWindow:function(a,b){var c={content:a.iwContent},e;if(this.options.singleInfoWindow){if(this.infoWindow)this.infoWindow.close(),this.infoWindow=null;this.infoWindow=new google.maps.InfoWindow(c);this.infoWindow.set("associatedFeature",
a);e=this}else a.infoWindow=new google.maps.InfoWindow(c),e=a;var d=!1;if(a.vector){if(a.vector.getPaths||a.vector.getPath)d=!0}else if(a.vectors&&a.vectors.length&&(a.vectors[0].getPaths||a.vectors[0].getPath))d=!0;var f=this;setTimeout(function(){e.infoWindow.open(f.options.map,d?new google.maps.Marker({position:b.latLng}):a.vector)},200)},_buildBoundsString:function(a){a=a.toUrlValue().split(",");return a[1]+","+a[0]+","+a[3]+","+a[2]},_getFeatureVectorOptions:function(a){var b={},a=a.attributes||
a.properties;if(this.options.symbology)switch(this.options.symbology.type){case "single":for(var c in this.options.symbology.vectorOptions)b[c]=this.options.symbology.vectorOptions[c];break;case "unique":for(var e=this.options.symbology.property,d=0,f=this.options.symbology.values.length;d<f;d++)if(a[e]==this.options.symbology.values[d].value)for(c in this.options.symbology.values[d].vectorOptions)b[c]=this.options.symbology.values[d].vectorOptions[c];break;case "range":e=this.options.symbology.property;
d=0;for(f=this.options.symbology.ranges.length;d<f;d++)if(a[e]>=this.options.symbology.ranges[d].range[0]&&a[e]<=this.options.symbology.ranges[d].range[1])for(c in this.options.symbology.ranges[d].vectorOptions)b[c]=this.options.symbology.ranges[d].vectorOptions[c]}return b},_getPropertiesChanged:function(a,b){var c=!1,e;for(e in a)a[e]!=b[e]&&(c=!0);return c},_getGeometryChanged:function(a,b){var c=!1;a.coordinates&&a.coordinates instanceof Array?a.coordinates[0]==b.coordinates[0]&&a.coordinates[1]==
b.coordinates[1]||(c=!0):a.x==b.x&&a.y==b.y||(c=!0);return c},_esriJsonGeometryToGoogle:function(a,b){var c,e;if(a.x&&a.y)b.position=new google.maps.LatLng(a.y,a.x),c=new google.maps.Marker(b);else if(a.points){e=[];for(var d=0,f=a.points.length;d<f;d++)b.position=new google.maps.LatLng(a.points[d].y,a.points[d].x),e.push(new google.maps.Marker(b))}else if(a.paths)if(a.paths.length>1){e=[];d=0;for(f=a.paths.length;d<f;d++){for(var g=[],h=0,i=a.paths[d].length;h<i;h++)g.push(new google.maps.LatLng(a.paths[d][h][1],
a.paths[d][h][0]));b.path=g;e.push(new google.maps.Polyline(b))}}else{g=[];d=0;for(f=a.paths[0].length;d<f;d++)g.push(new google.maps.LatLng(a.paths[0][d][1],a.paths[0][d][0]));b.path=g;c=new google.maps.Polyline(b)}else if(a.rings)if(a.rings.length>1){e=[];d=0;for(f=a.rings.length;d<f;d++){for(var j=[],g=[],h=0,i=a.rings[d].length;h<i;h++)g.push(new google.maps.LatLng(a.rings[d][h][1],a.rings[d][h][0]));j.push(g);b.paths=j;e.push(new google.maps.Polygon(b))}}else{j=[];g=[];d=0;for(f=a.rings[0].length;d<
f;d++)g.push(new google.maps.LatLng(a.rings[0][d][1],a.rings[0][d][0]));j.push(g);b.paths=j;c=new google.maps.Polygon(b)}return c||e},_geoJsonGeometryToGoogle:function(a,b){var c,e;switch(a.type){case "Point":b.position=new google.maps.LatLng(a.coordinates[1],a.coordinates[0]);c=new google.maps.Marker(b);break;case "MultiPoint":e=[];for(var d=0,f=a.coordinates.length;d<f;d++)b.position=new google.maps.LatLng(a.coordinates[d][1],a.coordinates[d][0]),e.push(new google.maps.Marker(b));break;case "LineString":for(var g=
[],d=0,f=a.coordinates.length;d<f;d++){var h=new google.maps.LatLng(a.coordinates[d][1],a.coordinates[d][0]);g.push(h)}b.path=g;c=new google.maps.Polyline(b);break;case "MultiLineString":e=[];d=0;for(f=a.coordinates.length;d<f;d++){for(var g=[],i=0,j=a.coordinates[d].length;i<j;i++){var k=a.coordinates[d][i],h=new google.maps.LatLng(k[1],k[0]);g.push(h)}b.path=g;e.push(new google.maps.Polyline(b))}break;case "Polygon":k=[];d=0;for(f=a.coordinates.length;d<f;d++){g=[];i=0;for(j=a.coordinates[d].length;i<
j;i++)h=new google.maps.LatLng(a.coordinates[d][i][1],a.coordinates[d][i][0]),g.push(h);k.push(g)}b.paths=k;c=new google.maps.Polygon(b);break;case "MultiPolygon":e=[];d=0;for(f=a.coordinates.length;d<f;d++){k=[];i=0;for(j=a.coordinates[d].length;i<j;i++){for(var g=[],h=0,l=a.coordinates[d][i].length;h<l;h++)g.push(new google.maps.LatLng(a.coordinates[d][i][h][1],a.coordinates[d][i][h][0]));k.push(g)}b.paths=k;e.push(new google.maps.Polygon(b))}break;case "GeometryCollection":e=[];d=0;for(f=a.geometries.length;d<
f;d++)e.push(this._geoJsonGeometryToGoogle(a.geometries[d],b))}return c||e}});gvector.AGS=gvector.Layer.extend({initialize:function(a){for(var b=0,c=this._requiredParams.length;b<c;b++)if(!a[this._requiredParams[b]])throw Error('No "'+this._requiredParams[b]+'" parameter found.');a.url.substr(a.url.length-1,1)!=="/"&&(a.url+="/");gvector.Layer.prototype.initialize.call(this,a);this._globalPointer="AGS_"+Math.floor(Math.random()*1E5);window[this._globalPointer]=this;this._vectors=[];if(this.options.map){if(this.options.scaleRange&&this.options.scaleRange instanceof Array&&this.options.scaleRange.length===
2)a=this.options.map.getZoom(),b=this.options.scaleRange,this.options.visibleAtScale=a>=b[0]&&a<=b[1];this._show()}},options:{where:"1=1",url:null},_requiredParams:["url"],_getFeatures:function(){this.options.uniqueField||this._clearFeatures();var a=this.options.url+"query?returnGeometry=true&outSR=4326&f=json&outFields="+this.options.fields+"&where="+this.options.where+"&callback="+this._globalPointer+"._processFeatures";this.options.showAll||(a+="&inSR=4326&spatialRel=esriSpatialRelIntersects&geometryType=esriGeometryEnvelope&geometry="+
this._buildBoundsString(this.options.map.getBounds()));var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.src=a;b.appendChild(c)},_processFeatures:function(a){if(this.options.map){var b=this.options.map.getBounds();if(!this._lastQueriedBounds||!this._lastQueriedBounds.equals(b)||this._autoUpdateInterval)if(this._lastQueriedBounds=b,a&&a.features&&a.features.length)for(b=0;b<a.features.length;b++){var c=!1;if(this.options.uniqueField)for(var e=
0;e<this._vectors.length;e++)if(a.features[b].attributes[this.options.uniqueField]==this._vectors[e].attributes[this.options.uniqueField]&&(c=!0,this.options.dynamic)){if(this._getGeometryChanged(this._vectors[e].geometry,a.features[b].geometry)&&!isNaN(a.features[b].geometry.x)&&!isNaN(a.features[b].geometry.y))this._vectors[e].geometry=a.features[b].geometry,this._vectors[e].vector.setPosition(new google.maps.LatLng(this._vectors[e].geometry.y,this._vectors[e].geometry.x));if(this._getPropertiesChanged(this._vectors[e].attributes,
a.features[b].attributes))this._vectors[e].attributes=a.features[b].attributes,this.options.infoWindowTemplate&&this._setInfoWindowContent(this._vectors[e]),this.options.symbology&&this.options.symbology.type!="single"&&this._vectors[e].vector.setOptions(this._getFeatureVectorOptions(this._vectors[e]))}if(!c||!this.options.uniqueField){c=this._esriJsonGeometryToGoogle(a.features[b].geometry,this._getFeatureVectorOptions(a.features[b]));a.features[b][c instanceof Array?"vectors":"vector"]=c;if(a.features[b].vector)a.features[b].vector.setMap(this.options.map);
else if(a.features[b].vectors&&a.features[b].vectors.length)for(c=0;c<a.features[b].vectors.length;c++)a.features[b].vectors[c].setMap(this.options.map);this._vectors.push(a.features[b]);if(this.options.infoWindowTemplate){var d=this,c=a.features[b];this._setInfoWindowContent(c);(function(a){if(a.vector)google.maps.event.addListener(a.vector,"click",function(b){d._showInfoWindow(a,b)});else if(a.vectors)for(var b=0,c=a.vectors.length;b<c;b++)google.maps.event.addListener(a.vectors[b],"click",function(b){d._showInfoWindow(a,
b)})})(c)}}}}}});gvector.GeoIQ=gvector.Layer.extend({initialize:function(a){for(var b=0,c=this._requiredParams.length;b<c;b++)if(!a[this._requiredParams[b]])throw Error('No "'+this._requiredParams[b]+'" parameter found.');gvector.Layer.prototype.initialize.call(this,a);this._globalPointer="GeoIQ_"+Math.floor(Math.random()*1E5);window[this._globalPointer]=this;this._vectors=[];if(this.options.map){if(this.options.scaleRange&&this.options.scaleRange instanceof Array&&this.options.scaleRange.length===2)a=this.options.map.getZoom(),
b=this.options.scaleRange,this.options.visibleAtScale=a>=b[0]&&a<=b[1];this._show()}},options:{dataset:null},_requiredParams:["dataset"],_getFeatures:function(){this.options.uniqueField||this._clearFeatures();var a="http://geocommons.com/datasets/"+this.options.dataset+"/features.json?geojson=1&callback="+this._globalPointer+"._processFeatures&limit=999";this.options.showAll||(a+="&bbox="+this._buildBoundsString(this.options.map.getBounds())+"&intersect=full");var b=document.getElementsByTagName("head")[0],
c=document.createElement("script");c.type="text/javascript";c.src=a;b.appendChild(c)},_processFeatures:function(a){if(this.options.map){var a=JSON.parse(a),b=this.options.map.getBounds();if(!this._lastQueriedBounds||!this._lastQueriedBounds.equals(b))if(this._lastQueriedBounds=b,a&&a.features&&a.features.length)for(b=0;b<a.features.length;b++){var c=!1;if(this.options.uniqueField)for(var e=0;e<this._vectors.length;e++)if(a.features[b].properties[this.options.uniqueField]==this._vectors[e].properties[this.options.uniqueField]&&
(c=!0,this.options.dynamic)){if(this._getGeometryChanged(this._vectors[e].geometry,a.features[b].geometry)&&!isNaN(a.features[b].geometry.coordinates[0])&&!isNaN(a.features[b].geometry.coordinates[1]))this._vectors[e].geometry=a.features[b].geometry,this._vectors[e].vector.setPosition(new google.maps.LatLng(this._vectors[e].geometry.coordinates[1],this._vectors[e].geometry.coordinates[0]));if(this._getPropertiesChanged(this._vectors[e].properties,a.features[b].properties)&&(this._vectors[e].properties=
a.features[b].properties,this.options.infoWindowTemplate&&this._setInfoWindowContent(this._vectors[e]),this.options.symbology&&this.options.symbology.type!="single"))if(this._vectors[e].vector)this._vectors[e].vector.setOptions(this._getFeatureVectorOptions(this._vectors[e]));else if(this._vectors[e].vectors)for(var d=0,f=this._vectors[e].vectors.length;d<f;d++)this._vectors[e].vectors[d].setOptions(this._getFeatureVectorOptions(this._vectors[e]))}if(!c||!this.options.uniqueField){c=this._geoJsonGeometryToGoogle(a.features[b].geometry,
this._getFeatureVectorOptions(a.features[b]));a.features[b][c instanceof Array?"vectors":"vector"]=c;if(a.features[b].vector)a.features[b].vector.setMap(this.options.map);else if(a.features[b].vectors&&a.features[b].vectors.length)for(d=0;d<a.features[b].vectors.length;d++)a.features[b].vectors[d].setMap(this.options.map);this._vectors.push(a.features[b]);if(this.options.infoWindowTemplate){var g=this,c=a.features[b];this._setInfoWindowContent(c);(function(a){if(a.vector)google.maps.event.addListener(a.vector,
"click",function(b){g._showInfoWindow(a,b)});else if(a.vectors)for(var b=0,c=a.vectors.length;b<c;b++)google.maps.event.addListener(a.vectors[b],"click",function(b){g._showInfoWindow(a,b)})})(c)}}}}}});gvector.CartoDB=gvector.Layer.extend({initialize:function(a){for(var b=0,c=this._requiredParams.length;b<c;b++)if(!a[this._requiredParams[b]])throw Error('No "'+this._requiredParams[b]+'" parameter found.');gvector.Layer.prototype.initialize.call(this,a);this._globalPointer="CartoDB_"+Math.floor(Math.random()*1E5);window[this._globalPointer]=this;this._vectors=[];if(this.options.map){if(this.options.scaleRange&&this.options.scaleRange instanceof Array&&this.options.scaleRange.length===2)a=this.options.map.getZoom(),
b=this.options.scaleRange,this.options.visibleAtScale=a>=b[0]&&a<=b[1];this._show()}},options:{version:1,user:null,table:null,fields:"*",where:null,limit:null,uniqueField:"cartodb_id"},_requiredParams:["user","table"],_getFeatures:function(){var a=this.options.where||"";if(!this.options.showAll)for(var b=this.options.map.getBounds(),c=b.getSouthWest(),b=b.getNorthEast(),e=this.options.table.split(",").length,d=0;d<e;d++)a+=(a.length?" AND ":"")+(e>1?this.options.table.split(",")[d].split(".")[0]+
".the_geom":"the_geom")+" && st_setsrid(st_makebox2d(st_point("+c.lng()+","+c.lat()+"),st_point("+b.lng()+","+b.lat()+")),4326)";this.options.limit&&(a+=(a.length?" ":"")+"limit "+this.options.limit);a=a.length?" "+a:"";a="http://"+this.options.user+".cartodb.com/api/v"+this.options.version+"/sql?q="+encodeURIComponent("SELECT "+this.options.fields+" FROM "+this.options.table+(a.length?" WHERE "+a:""))+"&format=geojson&callback="+this._globalPointer+"._processFeatures";c=document.getElementsByTagName("head")[0];
b=document.createElement("script");b.type="text/javascript";b.src=a;c.appendChild(b)},_processFeatures:function(a){if(this.options.map){var b=this.options.map.getBounds();if(!this._lastQueriedBounds||!this._lastQueriedBounds.equals(b)||this._autoUpdateInterval)if(this._lastQueriedBounds=b,a&&a.features&&a.features.length)for(b=0;b<a.features.length;b++){var c=!1;if(this.options.uniqueField)for(var e=0;e<this._vectors.length;e++)if(a.features[b].properties[this.options.uniqueField]==this._vectors[e].properties[this.options.uniqueField]&&
(c=!0,this.options.dynamic)){if(this._getGeometryChanged(this._vectors[e].geometry,a.features[b].geometry)&&!isNaN(a.features[b].geometry.coordinates[0])&&!isNaN(a.features[b].geometry.coordinates[1]))this._vectors[e].geometry=a.features[b].geometry,this._vectors[e].vector.setPosition(new google.maps.LatLng(this._vectors[e].geometry.coordinates[1],this._vectors[e].geometry.coordinates[0]));if(this._getPropertiesChanged(this._vectors[e].properties,a.features[b].properties)&&(this._vectors[e].properties=
a.features[b].properties,this.options.infoWindowTemplate&&this._setInfoWindowContent(this._vectors[e]),this.options.symbology&&this.options.symbology.type!="single"))if(this._vectors[e].vector)this._vectors[e].vector.setOptions(this._getFeatureVectorOptions(this._vectors[e]));else if(this._vectors[e].vectors)for(var d=0,f=this._vectors[e].vectors.length;d<f;d++)this._vectors[e].vectors[d].setOptions(this._getFeatureVectorOptions(this._vectors[e]))}if(!c||!this.options.uniqueField){c=this._geoJsonGeometryToGoogle(a.features[b].geometry,
this._getFeatureVectorOptions(a.features[b]));a.features[b][c instanceof Array?"vectors":"vector"]=c;if(a.features[b].vector)a.features[b].vector.setMap(this.options.map);else if(a.features[b].vectors&&a.features[b].vectors.length)for(d=0;d<a.features[b].vectors.length;d++)a.features[b].vectors[d].setMap(this.options.map);this._vectors.push(a.features[b]);if(this.options.infoWindowTemplate){var g=this,c=a.features[b];this._setInfoWindowContent(c);(function(a){if(a.vector)google.maps.event.addListener(a.vector,
"click",function(b){g._showInfoWindow(a,b)});else if(a.vectors)for(var b=0,c=a.vectors.length;b<c;b++)google.maps.event.addListener(a.vectors[b],"click",function(b){g._showInfoWindow(a,b)})})(c)}}}}}});
